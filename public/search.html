<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;background:#020617;color:white;font-family:system-ui}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:14px;padding:16px}
.card{background:#0f172a;border-radius:12px;padding:12px;cursor:pointer}
</style>
</head>
<body>
<div id="nav"></div>
<div id="grid" class="grid"></div>
<script>
fetch("/_nav.html").then(r=>r.text()).then(t=>nav.innerHTML=t);
const q=new URLSearchParams(location.search).get("q")||"";
fetch("/api/list?search="+encodeURIComponent(q))
.then(r=>r.json())
.then(j=>{
  j.data.forEach(i=>{
    const d=document.createElement("div");
    d.className="card";
    d.textContent=i.title;
    d.onclick=()=>location.href="/watch.html?id="+i.id;
    grid.appendChild(d);
  });
});
</script>
</body>
</html>
